{
  "module": "contract",
  "action": "verifysourcecode",
  "contractaddress": "0x7C1739ff2D1E3BaB231Cd728C6f99DadF801c60E",
  "contractname": "EVMUniversalToken",
  "compilerversion": "v0.8.26+commit.7dd6d404",
  "optimizationUsed": "1",
  "runs": "200",
  "sourceCode": "// SPDX-License-Identifier: MIT\npragma solidity 0.8.26;\n\nimport \"./base/UniversalToken.sol\";\n\n/**\n * @title EVMUniversalToken\n * @dev EVM chain implementation of Universal Token with cross-chain capabilities\n * This contract includes functionality for cross-chain transfers from/to ZetaChain\n */\ncontract EVMUniversalToken is UniversalToken {\n    // ZetaChain contract address\n    address public zetaChainContract;\n    \n    // This chain ID\n    uint256 public immutable chainId;\n    \n    // ZetaChain-specific identifiers\n    uint256 public constant ZETACHAIN_ID = 7000;\n    \n    // Events\n    event ZetaChainContractSet(address contractAddress);\n    event CrossChainTransferInitiated(address from, uint256 destChainId, address to, uint256 amount);\n    event CrossChainTransferReceived(uint256 sourceChainId, address from, address to, uint256 amount);\n    \n    /**\n     * @dev Constructor for EVMUniversalToken\n     * @param name_ The name of the token\n     * @param symbol_ The symbol of the token\n     * @param decimals_ The number of decimals for the token\n     * @param initialSupply The initial supply of tokens to mint to the owner\n     * @param currentChainId The ID of the current EVM chain\n     * @param initialOwner The initial owner of the token contract\n     */\n    constructor(\n        string memory name_,\n        string memory symbol_,\n        uint8 decimals_,\n        uint256 initialSupply,\n        uint256 currentChainId,\n        address initialOwner\n    ) UniversalToken(name_, symbol_, decimals_, initialOwner) {\n        require(currentChainId != ZETACHAIN_ID, \"Cannot deploy EVMUniversalToken on ZetaChain\");\n        \n        chainId = currentChainId;\n        \n        if (initialSupply > 0) {\n            _mint(initialOwner, initialSupply);\n        }\n    }\n    \n    /**\n     * @dev Sets the ZetaChain contract address\n     * @param contractAddress The address of the connected contract on ZetaChain\n     */\n    function setZetaChainContract(address contractAddress) external onlyOwner {\n        require(contractAddress != address(0), \"Invalid contract address\");\n        \n        zetaChainContract = contractAddress;\n        emit ZetaChainContractSet(contractAddress);\n    }\n    \n    /**\n     * @dev Initiates a cross-chain transfer to ZetaChain or another EVM chain via ZetaChain\n     * @param destChainId The ID of the destination chain\n     * @param recipient The address of the recipient on the destination chain\n     * @param amount The amount of tokens to transfer\n     */\n    function crossChainTransfer(uint256 destChainId, address recipient, uint256 amount) external {\n        require(destChainId != chainId, \"Cannot transfer to same chain\");\n        require(zetaChainContract != address(0), \"ZetaChain contract not set\");\n        require(recipient != address(0), \"Invalid recipient address\");\n        require(amount > 0, \"Amount must be greater than zero\");\n        require(balanceOf(msg.sender) >= amount, \"Insufficient balance\");\n        \n        // Burn tokens on the current EVM chain\n        _burn(msg.sender, amount);\n        \n        // Emit event for the cross-chain transfer\n        // In a real implementation, this would interact with ZetaChain's cross-chain messaging\n        emit CrossChainTransferInitiated(msg.sender, destChainId, recipient, amount);\n        \n        // Note: In a production implementation, this would trigger the ZetaChain\n        // cross-chain messaging system to mint tokens on the destination chain\n    }\n    \n    /**\n     * @dev Receives a cross-chain transfer (would be called by the ZetaChain connector)\n     * @param sourceChainId The ID of the source chain\n     * @param sender The address of the sender on the source chain\n     * @param recipient The address of the recipient on this chain\n     * @param amount The amount of tokens to transfer\n     */\n    function receiveCrossChainTransfer(\n        uint256 sourceChainId,\n        address sender,\n        address recipient,\n        uint256 amount\n    ) external onlyOwner {\n        require(sourceChainId != chainId, \"Cannot receive from same chain\");\n        require(recipient != address(0), \"Invalid recipient address\");\n        require(amount > 0, \"Amount must be greater than zero\");\n        \n        // Mint tokens to the recipient on this EVM chain\n        _mint(recipient, amount);\n        \n        emit CrossChainTransferReceived(sourceChainId, sender, recipient, amount);\n    }\n} ",
  "evmversion": "paris",
  "constructorArguments": "",
  "codeformat": "solidity-single-file"
}